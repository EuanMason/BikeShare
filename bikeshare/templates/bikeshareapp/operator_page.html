<!DOCTYPE html>
{% load static %}
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"
      integrity="sha384-vSIIfh2YWi9wW0r9iZe7RJPrKwp6bG+s9QZMoITbCckVJqGCCRhc+ccxNcdpHuYu"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
      integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l"
      crossorigin="anonymous"
    />
      <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}" />
    <link rel="stylesheet" href="{% static 'css/style.css' %}" />
    <link
      rel="stylesheet"
      media="screen and (max-width: 768px)"
      href="css/mobile.css"
    />

    <script>
        function GetTrack(){
            var html="Current Bike ID: "+$("#bikeid").val()+"<br>"
            +"Current Location: "+$("#postcode").val();
            $("#TrackCollapseBody").html(html);            
        }
      function GetRepair(){
          var html="Current Bike ID: "+$("#bikeid").val()+"<br>"
          +"Current Location: "+$("#postcode").val()+"<br>" 
          +"Current Repair Status: "+"need to fetch from database";
          $("#RepairCollapseBody").html(html);
      }      
      function BikeRepaired(){
          var html="Current Bike ID: "+$("#bikeid").val()+"<br>"
          +"Current Location: "+$("#postcode").val()+"<br>" 
          +"Current Repair Status: "+"None";
          $("#RepairCollapseBody").html(html);
          alert("Bike has been repaired.");
      }
      function GetMove(){
          var html="Current Bike ID: "+$("#bikeid").val()+"<br>"
          +"Current Location: "+$("#postcode").val()+"<br>"
          $("#MoveCollapseBody").html(html);          
      }
      function MoveLocation(){
        var html="Current Bike ID: "+$("#bikeid").val()+"<br>"
        +"Current Location: "+$("#NewPostcode").val()+"<br>"
        $("#MoveCollapseBody").html(html);
         
        var NewPostcode = document.querySelector("#NewPostcode").value;
        if (NewPostcode == "" || NewPostcode == "") {
            alert("Please enter the new postcode.");
        } else {  
            alert("Bike has been moved.");
        };
      };   
    </script>

    <title>Bike Sharing</title>
  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg bg-light navbar-light fixed-top">
      <div class="container">
        <a href="user_page.html" class="navbar-brand">
          <i class="fas fa-biking"></i>
          <span class="text-primary font-weight-bold">Bike</span>
          Sharing</a
        >
        <button
          class="navbar-toggler"
          data-toggle="collapse"
          data-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a href="#home" class="nav-link">Home</a>
            </li>
            <li class="nav-item">
              <a href="/logout" class="nav-link">Log out</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <br>
    </br>

    <section id="main-page">
      <div class="container">
        <div class="start-form bg-light p-3">
          <h2 class="m-heading">Welcome, Operator.</h2>
          <form action="#">
            <div class="form-group">
              <label for="postcode">Post Code: </label>
              <input
                class="form-control"
                placeholder="Enter postcode"
                type="text"
                id="postcode"
                class="box"
                required
              />
            </div>
            <div class="form-group">
              <button
                class="submitbox btn btn-primary"
                onclick="getBikes()"
              >
                Search
              </button>
              <div id="selectBike" class="form-group">

              </div>
            </div>

            <div class="form-group">
              <label for="bikeID">Bike ID: </label>
              <input
                class="form-control"
                placeholder="Enter bike ID"
                type="text"
                id="bikeid"
                class="box"
                required
              />
            </div>
                         
            <div id="accord">

            <!--- Track Button -->
            <button
            class="btn btn-primary"
            data-toggle="collapse" data-target="#TrackCollapse"
            data-parent="#accord" aria-controls="TrackCollapse"
            onClick="GetTrack()">
                Track
            </button>                
            <!--- Repair Button -->
            <button
            class="btn btn-primary" 
            data-toggle="collapse" data-target="#RepairCollapse"
            data-parent="#accord" aria-controls="RepairCollapse"
            onClick="GetRepair()">
                Repair
            </button>
            <!--- Move Button -->
            <button
            class="btn btn-primary" 
            data-toggle="collapse" data-target="#MoveCollapse"
            data-parent="#accord" aria-controls="MoveCollapse"
            onClick="GetMove()">
                Move
            </button>
            <!-- End of Buttons-->
            
                        
            <!--- Track Collapse --->
            <div class="collapse" id="TrackCollapse" data-parent="#accord">
                <div class="card card-body"
                id="TrackCollapseBody">
                </div>
                <div class="card-footer">
                <div class="form-group">
                <button
                    class="submitbox btn btn-success"
                    onClick="GetTrack()"
                >
                    Refresh Location
                </button>
                </div>
                </div>                
            </div>            
            <!--- Repair Collapse ---> 
            <div class="collapse" id="RepairCollapse" data-parent="#accord">
                <div class="card card-body"
                id="RepairCollapseBody">
                </div>
                <div class="card-footer">
                <div class="form-group">
                <button
                class="submitbox btn btn-success"
                onclick="BikeRepaired()"
                >
                Repair Bike
                </button>
                </div>
                </div>
            </div>            
            <!--- Move Collapse ---> 
            <div class="collapse" id="MoveCollapse" data-parent="#accord">
                <div class="card card-body">
                    <div id="MoveCollapseBody"></div>
                </div>
                    <!-- Move Collapse [Search for bike] -->
                    <div class="card-footer">
                    <div class="form-group">
                    <label for="postcode">Enter the new postcode, you would like to move the bike to: </label>
                    <input
                        class="form-control"
                        placeholder="Enter new postcode"
                        type="text"
                        id="NewPostcode"
                        class="box"
                        required
                    />
                    </div>
                    <div class="form-group">
                    <button
                        class="submitbox btn btn-primary"
                        onclick="getBikes()"
                    >
                        Search
                    </button>              
                    <button type="button" class="btn btn-success" id="ConfirmMove" 
                    onclick="MoveLocation()">
                    Move to Location
                    </button>              
                    </div>
                    <div id="selectBike" class="form-group">

                    </div>
                    </div>
                </div>
            </div> 
            </div>       
            <!-- End of Collapses--> 
            
            

            </form>
            </div>
            </div>
    </section>

    <style type="text/css">
		#time p{
			color: #000000;
			font-size: 45px;
			font-weight: bold;
			margin-left:350px;
			margin-bottom:0px;
			overflow: hidden;
		}
	</style>

    <script
      src="http://code.jquery.com/jquery-3.5.1.min.js"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
      integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js"
      integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF"
      crossorigin="anonymous"
    ></script>

    <script src="app.js"></script>

  </body>
</html>

<!-- AIzaSyAhwTKf3kSrByV-QeOT5hWAXN7CtM2VHFE -->
